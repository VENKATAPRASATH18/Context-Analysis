import datetime
from datetime import date
import spacy
from spacy import displacy
import re


def NER(data: str):
    ner=spacy.load("en_core_web_sm")
    result=ner(data)
    i=1
    for d in result.ents:
        print(i,'.',(d.text),', ','lable: ',d.label_)
        i=i+1

def YEB(data: str):
    ner=spacy.load("en_core_web_sm")
    result=ner(data)
    i=1
    for d in result.ents:
        if((re.match("\d{1,2}-year-old",d.text) and d.label_=='DATE') or (re.match("\d{1,2} year old",d.text) and d.label_=='DATE')):
            print(i,'.',date.today().year - int(d.text[0:2]),', ','lable: ',d.label_)
            i=i+1
        
        elif(re.match("^[0-9][0-9]$",d.text) ): # or re.match("[0-9]",d.text)
            print(i,'.',date.today().year - int(d.text),', ','lable: ',d.label_)
            i=i+1

def PERSON(data: str):
    ner=spacy.load("en_core_web_sm")
    result=ner(data)
    for d in result.ents:
        pattern =re.search(" ".join([d.text, "\d{1,2}-year-old"]),data) #person 20-year-old
        age=0
        if(pattern!=None):
            age=int(''.join(re.findall("\d{1,2}",pattern.string[pattern.start():pattern.end()])))
            print( d.text,(',Age = '+str(age)+' ,Yob = **/**/'+str(date.today().year-age)))
            continue
        else:
            pattern =re.search(" ".join([ "\d{1,2}-year-old",d.text]),data)  #20-year-old person

        if(pattern!=None):
            age=int(''.join(re.findall("\d{1,2}",pattern.string[pattern.start():pattern.end()])))
            print( d.text,(',Age = '+str(age)+' ,Yob = **/**/'+str(date.today().year-age)))
            continue
        else:
            pattern =re.search(" ".join([d.text, "\d{1,2} year old"]),data) #person 20 year old

        if(pattern!=None):
            age=int(''.join(re.findall("\d{1,2}",pattern.string[pattern.start():pattern.end()])))
            print( d.text,(',Age = '+str(age)+' ,Yob = **/**/'+str(date.today().year-age)))
            continue
        else:
            pattern =re.search(" ".join([d.text, "\d{1,2} years old"]),data) #person 20 years old

        if(pattern!=None):
            age=int(''.join(re.findall("\d{1,2}",pattern.string[pattern.start():pattern.end()])))
            print( d.text,(',Age = '+str(age)+' ,Yob = **/**/'+str(date.today().year-age)))
            continue
        else:
            pattern =re.search(", ".join([d.text, "\d{1,2}"]),data) #person, 20 

        if(pattern!=None):
            age=int(''.join(re.findall("\d{1,2}",pattern.string[pattern.start():pattern.end()])))
            print( d.text,(',Age = '+str(age)+' ,Yob = **/**/'+str(date.today().year-age)))
            continue
        else:
            pattern =re.search(" ".join([d.text, "\([0-9][0-9]\)"]),data) #person (20)

        if(pattern!=None ):
            age=int(''.join(re.findall("\d{1,2}",pattern.string[pattern.start():pattern.end()])))
            print( d.text,(',Age = '+str(age)+' ,Yob = **/**/'+str(date.today().year-age)))
            continue
        else:
            continue


if(__name__=="__main__"):
    data='''Delhi horror: No cops, PCR vans, no women driving two-wheelers after midnight, reveals India Today reality check 11 women journalists rode along the deserted streets on a chilly winter night after Anjali's death. India Today reality check revealed no women were driving two-wheelers after midnight and police officers were caught on camera sleeping in PCR vans. By Aishwarya Paliwal: A 20-year-old woman who was print(ing home during the wee hours of Sunday, was killed after her scooty was hit by a car and her body was dragged for several kilometers, sending shockwaves across the nation. 48 hours after Anjali's horrific death came to the fore, eleven women reporters from India Today Group hit the streets of Delhi post midnight to do a reality check on what has changed in the national capital after the brutal crime. The reporters were on the streets post midnight, at the same time when Anjali was on the road going back home, when she met with an accident and was dragged for 12 kilometers, leading to her death. India Today reality check revealed there were no PCR vans, no barricades and no check posts on the roads. From Kanjhawala to Defence Colony to Jawaharlal Nehru University, India Today covered the length and breadth of the national capital. Each of the 11 reporters has a horrific tale to tell from the night. Most were solicited by men on the streets, asked where they wanted to go. The places covered by the reporters included several upscale localities. ALSO READ | 11 women journalists check Delhi's night streets after Anjali's death Reporters who were in different parts of Delhi, could not spot women driving two-wheelers at that hour. One could not see women driving scooties on the streets of Delhi post-midnight and the first and foremost reason being security. As 11 women journalists rode along the deserted streets on a chilly winter night, they did not see women on the road from midnight till 4 am. Police officers were caught on camera sleeping in PCR Vans. Despite a cab being parked right outside a booth, policemen did not step out for inspection, showing their callous attitude. Given the kind of situation it is in Delhi right now, women usually don't travel alone during the wee hours, India Today's reality check has revealed. ALSO READ | Delhi Sultanpuri horror: How woman was dragged by car, what went down and what cops have done since NO COPS, NO PCR VANS ON ROADS While travelling in cars, waiting at bus stops, strolling on the road, reporters had to face a plethora of difficulties. From men riding bikes asking them to accompany to cab drivers and forcefully wanting to give them a lift, women had to navigate a lot. The bottom line of India Today's Reality Check is that the horrific gangrape and murder of Nirbhaya took place a decade ago and to date, a lot has been done to make the city safe and a lot needs to be done. Cab drivers plying on the road even threatened a reporter by pointing out that they are not scared of PCR Vans. Not just peripheral roads, but even main roads and roads in high security zones have any women drivers. ALSO READ | Delhi horror: Anjali kept screaming, they kept driving, friend Nidhi recalls accident night DELHI HORROR A 20-year-old woman died in the wee hours of Sunday after she was dragged for around 12 kilometres from Sultanpuri to Kanjhawala in Delhi after the scooter she was riding collided with a car. The incident has caused an uproar in the national capital with the woman's family alleging that she was sexually assaulted by the accused. But the post-mortem report revealed that the woman was not sexually assaulted and died due to being dragged. The five accused who have now been arrested have been identified as Deepak Khanna (26), Amit Khanna (25), Krishan (27), Mithun (26) and Manoj Mittal (27). A Delhi court on Monday sent all five accused to three-day police custody. As the investigation into the death of a woman in Delhi after being dragged for a few kilometers continues, sources said the blood samples of the five accused in the case have been sent to the Forensic Science Laboratory Division to test if they were under the influence of alcohol. The report is yet to come. The victim, identified as Anjali, worked at an event management company, left her home in Aman Vihar to attend a New Year’s Eve party. She was the sole breadwinner of her family. The autopsy report has ruled out sexual assault, as no injuries to the woman's private parts were found following her death. The cause of death was due to accident and dragging, the report said. ALSO READ | How safe is Delhi for women?'''
    data_2='''Tribune News Service New Delhi, January 5 The Delhi Police on Thursday booked two more persons in connection with the horrific death of 20-year-old Anjali Singh, who met a painful end after being dragged by a car for 12 km on the outskirts of Delhi in the early hours of January 1. The two accused have been identified as Ashutosh, car owner, and Ankush, brother of one of the five arrested accused. Amid the growing demand by Anjali’s family for adding Section 302 (murder) of the IPC to the FIR, the police said they couldn’t find any motive to kill Anjali. “Adding Section 302 is a matter of law. The police cannot add Section 302 without evidence. So far, we haven’t found any motive (to kill Anjali). If an accident takes place without any clear-cut intention, it becomes difficult for the police to establish Section 302,” Special Commissioner of Police (Law and Order) Sagar Preet Hooda told the media. He added the call details records did not establish any connection between Anjali and the accused. Meanwhile, a Delhi court on Thursday extended the police remand of the five accused by four days.'''
    data_3='''he suspect in the November slayings of four University of Idaho students has arrived in Idaho, where he is charged with four counts of first-degree murder and felony burglary.Bryan Kohberger , a 28-year-old doctoral student at Washington State University., was flown by Pennsylvania State Police to a small regional airport near the Idaho border and handed over to local authorities Wednesday evening.Uniformed law enforcement officers were waiting on the tarmac for the Pennsylvania State Police plane to land, and then they escorted the handcuffed Kohberger to a caravan of five vehicles for the short drive from Washington across the Idaho border.Kohberger's arrival means the court documents filed in his case should soon be unsealed, potentially shedding some light on Latah County Prosecutor Bill Thompson's reasons for accusing Kohburger .Kohberger was arrested at his parents' home in eastern Pennsylvania last week in connection with the stabbing deaths of Kaylee Goncalves, Madison Mogen , Xana Kernodle and Ethan Chapin.On Tuesday Kohberger agreed to be extradited to Idaho, and his attorney Jason LaBar said Kohberger was eager to be exonerated.Police have released few details about the investigation and a magistrate judge has issued a sweeping gag order barring attorneys, law enforcement agencies and other officials from discussing the criminal case. But court filings - including a document laying out Latah County Prosecutor Bill Thompson's reasons for accusing Kohburger of the killings - are expected to be unsealed now that Kohberger has arrived.The nighttime attack at a Moscow home near the University of Idaho campus spread fear through the surrounding community, as authorities seemed stumped by the brutal stabbings. Investigators appeared to make a breakthrough, however, after searching for a white sedan that was seen around the time of the killings and analyzing DNA evidence collected from the crime scene.Investigators have said they were still searching for a motive and the weapon used in the attack.The bodies of Goncalves, 21, of Rathdrum, Idaho; Mogen, 21, of Coeur d'Alene, Idaho; Kernodle, 20, of Post Falls, Idaho; and Chapin, 20, of Conway, Washington, were found Nov. 13 at the rental home where the women lived. Kernodle and Chapin were dating, and he had been visiting the house that night.Latah County, Idaho, prosecutors have said they believe Kohberger broke into the victims' home intending to commit murder.Jason LaBar, the chief public defender in Monroe County, Pennsylvania, said Kohberger is eager to be exonerated and should be presumed innocent and "not tried in the court of public opinion."After Tuesday's hearing, LaBar described Kohberger as "an ordinary guy," and said that after his extradition he would be represented by the chief public defender in Kootenai County, Idaho.Although Moscow police have been tightlipped about the investigation, investigators last month asked the public for help finding a white sedan that was seen near the scene of the crime - specifically, a 2011-2013 Hyundai Elantra. Tips poured in and investigators soon announced they were sifting through a pool of around 20,000 potential vehicles.Meanwhile, Kohberger apparently stayed in Pullman, Washington, through the end of the semester at WSU. Then he drove across country to his parents' home in Pennsylvania, accompanied by his father. They were in a white Elantra.While driving through Indiana, Kohberger was pulled over twice on the same day - first by a Hancock County Sheriff's deputy and a few minutes later by an Indiana state trooper.Body camera video of the first stop released by the Hancock County Sheriff's Office shows Kohberger behind the wheel and his father in the passenger seat on Dec. 15. Both men told the law enforcement officer that they were traveling from WSU before the officer sent them on their way with a warning for following too closely.The Indiana State Police released bodycam footage of the second stop. The agency said that at the time, there was no information available to the trooper that would have identified Kohberger as a suspect in the killings. Kohberger was again given a warning for following too closely.'''
    data_4='''Vadodara, Jan 5 (IANS): In a shocking incident, a youth killed a senior citizen by slitting his throat in broad daylight just because the latter had asked him not to smoke. The police have arrested the youth for the murder of the senior citizen at Bodeli town in Chhota Udaipur district. Sub-inspector U.R. Damor told IANS, "On Thursday afternoon, Rudra Baraiya killed Bhikhabhai Mohanbhai Chunara (60) by slitting his throat with a paper cutter. After committing the crime, the accused did not flee. When the police reached the crime scene, Rudra was standing there, cornered by the local people." The officer said that during questioning, the accused told the police that he was smoking a cigarette when the victim approached him and asked for Rs 20, which he gave. After this, Chunara broke the cigarette that Rudra was smoking, so he lit another cigarette which the victim threw away. This enraged Rudra who then slit the throat of the 60-year-old man. The accused also told the police that he was mentally disturbed because he had a quarrel with his family members in the morning. Chunara act made him more angry for which he killed him, the police said.'''
    data_5='''Idaho college murders: Roommate saw masked killer leaving house, reveals document Bryan Kohberger, a Criminology PhD student, was arrested for killing four University of Idaho students more than two months ago. On the night of the murders, the victims' roomate, a woman, saw the killer in a mask leaving the house, as per an affidavit filed in Pennsylvania court on Friday. By Reuters: A woman who lived at the house where four University of Idaho students were stabbed to death told investigators she heard someone crying in one of the victim's bedrooms on the night of the murders - and then watched as a masked man walked past her and out of the house. The harrowing detail was included in a newly unsealed affidavit on Thursday, just before Bryan Kohberger, the 28-year-old doctoral student charged with the November slayings, made his first court appearance in Moscow, Idaho. READ | Pennsylvania: Criminology PhD student arrested in University of Idaho killings The document also said police have linked Kohberger to the November 13 murders using DNA, cell phone data and video footage. Police initially said two roommates who were unharmed did not wake up until later that morning. The roommates called friends to the house because they believed one of the second-floor victims had passed out and was not waking up. It was not until 11:58 a.m. that a 911 call was made requesting aid for an unconscious person, according to a timeline provided by the Moscow Police Department. But the new affidavit said one of the surviving roommates awoke about 4 a.m. and twice opened her door when she heard a woman say there was someone in the house. When she opened her door a third time, she told authorities she stood in "frozen shock" as the man, clad in black, passed by her, before she locked herself in her room. ALSO READ | Customer shoots KFC employee after store ran out of corn in US Kohberger, who has been working towards a criminal justice PhD degree at Washington State University, about 10 miles (16 kilometers) from the University of Idaho campus in Moscow, faces four counts of first-degree murder and burglary. He wore an orange jump suit in court and answered "yes" to several questions regarding whether he understood the charges against him. He did not enter a plea and will be held without bail. A status hearing was scheduled for January 12. Kohberger was arrested in Pennsylvania last week, where he was visiting his family, and flown to Idaho on Wednesday. Investigators were able to match DNA recovered from a knife sheath left at the scene with DNA taken from trash at the Kohberger family residence, according to the unsealed affidavit, written by Moscow Police Corporal Brett Payne. Video footage captured a white Elantra, similar to a car registered to Kohberger, passing the house three times on the night of the murders before the driver attempted to park, Payne wrote. About 15 minutes later, the car was seen leaving at a "high rate of speed." Tracking data showed Kohberger's cell phone appeared to leave the WSU campus around 2:45 a.m. on the night of the attack before going dead for around two hours, then reappearing south of Moscow and eventually moving towards his campus home, Payne wrote. The period of time when the phone was not detected is "consistent with Kohberger attempting to conceal his location," the affidavit said. Data also showed Kohberger's phone was in the area of the victims' Moscow house at least a dozen times between June and November, almost always at nighttime, Payne wrote. The victims - Ethan Chapin, 20, of Conway, Washington; Xana Kernodle, 20, of Avondale, Arizona; Madison Mogen, 21, of Coeur d'Alene, Idaho; and Kaylee Goncalves, 21, of Rathdrum, Idaho - all suffered multiple stab wounds, according to authorities. Chapin was Kernodle's boyfriend. Police have not suggested a motive for the attack. In a survey posted on the social media site Reddit, Kohberger asked participants to help "understand how emotions and psychological traits influence decision making when committing a crime," the affidavit said.'''
    data_6='''HYDERABAD: Nearly five years after 19-year-old Intermediate student E Sudheer was hacked to death in Kukatpally in full public view while he was on his way to give an exam, four youths were convicted of the crime and awarded life sentence by a court in LB Nagar on Wednesday.The court also slapped 20,000 fine on each of them. The four - B Naveen (20) and his three associates, Jilla Mahesh (20), K Theja Rao (20) and Ippali Krishna (21) - were convicted under IPC sections of murder, abetting an offence and criminal conspiracy, Arms Act and SC, ST Prevention of Atrocities Act ."The statements of the eyewitnesses - Meghnath, home guard Anji , a woman who sold sickles to the convicts and the FSL report matching the DNA of the blood stains found on their clothes with the DNA of Sudheer played a key role in getting the conviction," public prosecutor M Ganga Reddy said after the court verdict.The four convicts were residents of Moosapet and neighbours of Sudheer, who was killed in broad daylight on Kukatpally main road on March 12, 2018. At around 8.30 am, E Sudheer, Intermediate second year student of Pratibha Junior College in Kukatpally, was attacked with hunting sickles when he was on heading to Sri Chaitanya Junior College , Kukatpally, to appear for economics exam.Head constable Prabhakar and Anji, who were at the spot on duty, managed to nab Naveen. Three others were nabbed soon after.Police said rivalry between two groups in the locality was the trigger for the murder and added that one of the accused had a criminal record.'''
    data_7='''The bodies of two youths, who were missing since New Year eve, were recovered from a field here with their faces burnt with acid, police said on Thursday. Five police teams have been formed to arrest the three "illegal" factory owners booked for the murder of the youths who had been raising their voice against the polluting units in the area, officials said. Deputy Commissioner of Police (Trans Hindon) Deeksha Sharma said police teams are raiding the possible hideouts of the factory owners against whom the deceased's family members have lodged the FIR and they will be nabbed soon. However, the FIR does not mention any name, the DCP said. Police said that after the missing report of the youths was filed on January 1, the factory owners had shut down their units and fled from the area. The bodies were spotted on Wednesday evening by some passersby in a crop field with their faces burnt with acid ostensibly to hide their identity, they said. The victims, identified as Durgesh Kasana (25) and Gaurav Kasana (24), from Ristal village under Teela Mor police station area left their homes to celebrate New Year on December 31 evening but they did not return, police said. The locals protested with the bodies and it was only when senior police officials reached the spot and pacified them that the bodies were sent for postmortem late in the night, police said. Both the youths who were friends had been raising their voice against polluting units in which the owners were burning rubber coated wires for getting copper, police said quoting the FIR. The duo had made several complaints about the units with the departments concerned and locals also supported them. Some units were closed on their complaints but after a few days they again became operational, the FIR said. (Except for the headline, this story has not been edited by NDTV staff and is published from a syndicated feed.)'''
    #NER(data)
    #YOB(data)
    print('1.'+'\n')
    PERSON(data)
    print('2.'+'\n')
    PERSON(data_2)
    print('3.'+'\n')
    PERSON(data_3)
    print('4.'+'\n')
    PERSON(data_4)
    print('5.'+'\n')
    PERSON(data_5)
    print('6.'+'\n')
    PERSON(data_6)
    print('7.'+'\n')
    PERSON(data_7)
    print('\n')
    PERSON('''Spent money for his girlfriends and trips BENGALURU: A 29-year-old man has been arrested for allegedly duping a private finance firm by illegally collecting details of its customers, creating fake documents, obtaining sim cards in their names, and purchasing mobile phones online by raising consumer loans.Vikas S , a resident of JP Nagar 6th Stage and former sales executive of Bajaj Finance , had purchased 39 mobiles, mostly iPhones , worth over Rs 25 lakh from an e-commerce firm in the name of others and sold them on an online marketplace. The fraud was committed between July 2022 and January 3, 2023, when he was arrested.The matter came to light in September 2022 after a private firm employee noticed that someone had purchased a product raising Rs 1.9 lakh as consumer loan from the finance firm in his name. The firm initiated an internal probe and came to know that someone had purchased mobile phones by misusing its old customers' details and phone numbers.Ashok K , a representative of the firm, filed a complaint on October 20.A Central CEN crime police team headed by inspector SP Vinoj Raj managed to arrest the suspect, by which time he had cheated the firm of over Rs 25 lakh.Investigation revealed that Vikas was a sales executive with Bajaj Finance during 2015-16. Issuing consumer durable loans at consumer electronics and home appliances showrooms was his responsibility. He quit in 2016 and was involved in a cybercrime case registered in Pune, Maharashtra. He was arrested by Maharashtra police in 2018 and released on bail within a few months.He returned to Bengaluru and stayed with his friends. A travel buff, he spent time with his girlfriends. He worked with a few private firms after his release from jail but his earnings were not enough for his lavish life. So, he went to a showroom near JP Nagar a few months ago and noticed that a Bajaj Finance executive was busy. He introduced himself as the manager of Bajaj Finance and managed to get his login ID and password. Later, he collected details of old customers, their Bajaj Finance cards, and mobile numbers.He found inactive numbers from the list and purchased duplicate sims using customer ID proof, available on the database. After the mobile number was activated, he would purchase costly mobile phones from a major e-commerce firm. He made sure to collect the consignments from delivery boys before they reached the addresses mentioned.After receiving the mobile phones, he would put them up for sale on an online marketplace. He would collect cash and send the phones to the purchasers using a delivery service.''')






"""PERSON:      People, including fictional.
NORP:        Nationalities or religious or political groups.
FAC:         Buildings, airports, highways, bridges, etc.
ORG:         Companies, agencies, institutions, etc.
GPE:         Countries, cities, states.
LOC:         Non-GPE locations, mountain ranges, bodies of water.
PRODUCT:     Objects, vehicles, foods, etc. (Not services.)
EVENT:       Named hurricanes, battles, wars, sports events, etc.
WORK_OF_ART: Titles of books, songs, etc.
LAW:         Named documents made into laws.
LANGUAGE:    Any named language.
DATE:        Absolute or relative dates or periods.
TIME:        Times smaller than a day.
PERCENT:     Percentage, including ”%“.
MONEY:       Monetary values, including unit.
QUANTITY:    Measurements, as of weight or distance.
ORDINAL:     “first”, “second”, etc.
CARDINAL:    Numerals that do not fall under another type."""